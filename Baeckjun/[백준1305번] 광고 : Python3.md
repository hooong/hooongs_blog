# [백준1305번] 광고 / Python3

## 문제

세준이는 길 한가운데에서 전광판을 쳐다보고 있었다. 전광판에는 광고가 알파벳으로 흘러나오고 있었다. 한참을 전광판을 쳐다본 세준이는 이 광고가 의미하는 것이 무엇인지 궁금해지기 시작했다.

전광판에는 같은 내용의 문구가 무한히 반복되어 나온다. 또, 전광판의 크기는 전광판에서 한번에 보이는 최대 문자수를 나타낸다. 만약 전광판의 크기가 L이라면, 한번에 L개의 문자를 표시할 수 있는 것이다.

광고업자는 최대한의 광고효과를 내기 위해서 길이가 N인 광고를 무한히 붙여서 광고한다.

예를 들어, 광고 업자 백은진이 광고하고 싶은 내용이 aaba 이고, 전광판의 크기가 6이라면 맨 처음에 보이는 내용은 aabaaa 이다. 시간이 1초가 지날 때마다, 문자는 한 칸씩 옆으로 이동한다. 따라서 처음에 aabaaa가 보였으면 그 다음에는 abaaab가 보인다. 그 다음에는 baaaba가 보인다.

세준이가 어느 순간 전광판을 쳐다봤을 때, 그 때 쓰여 있는 문자가 입력으로 주어졌을 때, 가능한 광고의 길이중 가장 짧은 것을 출력하는 프로그램을 작성하시오.

## 입력

첫째 줄에 광고판의 크기 L이 주어지고, 둘째 줄에 현재 광고판에 보이는 문자열이 주어진다. L은 백만보다 작거나 같은 자연수이다.

## 출력

첫째 줄에 가능한 광고의 길이중 가장 짧은 것의 길이를 출력한다.

## 예제 입력 1

```
5
aaaaa
```

## 예제 출력 1

```
1
```

<br>

## 나의 풀이

> 해당 문제는 failure function을 사용해 접두사 접미사가 같은 최대 길이를 구한 뒤 광고판의 길이인 `L`에서 failure function의 결과 배열의 마지막 요소를 빼주면 되는 문제다.
>
> 즉, 답은 `L - table[-1]`이다.
>
> 예를들어, `aabaaa`이 주어진다면 failure function을 거친 결과값은 아래와 같다.
>
> ```
> a a b a a a
> 0 1 0 1 2 2
> 
> => 6 - 2 = 4
> ```
>
> 이 문제는 failure function만 알고있다면 의외로 쉽게 풀 수 있는 문제였던 것 같다.

<br>

## 코드

```python
# 1305번 광고


def failure(p):
    tmp = [0] * len(p)

    j = 0
    for i in range(1, len(p)):
        while j > 0 and p[i] != p[j]:
            j = tmp[j-1]

        if p[i] == p[j]:
            j += 1
            tmp[i] = j

    return tmp


l = int(input())
adv = input()

table = failure(adv)
print(l - table[-1])

```

