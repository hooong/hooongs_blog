# [백준2252번] 줄 세우기 / Python3

## 문제

N명의 학생들을 키 순서대로 줄을 세우려고 한다. 각 학생의 키를 직접 재서 정렬하면 간단하겠지만, 마땅한 방법이 없어서 두 학생의 키를 비교하는 방법을 사용하기로 하였다. 그나마도 모든 학생들을 다 비교해 본 것이 아니고, 일부 학생들의 키만을 비교해 보았다.

일부 학생들의 키를 비교한 결과가 주어졌을 때, 줄을 세우는 프로그램을 작성하시오.

## 입력

첫째 줄에 N(1≤N≤32,000), M(1≤M≤100,000)이 주어진다. M은 키를 비교한 회수이다. 다음 M개의 줄에는 키를 비교한 두 학생의 번호 A, B가 주어진다. 이는 학생 A가 학생 B의 앞에 서야 한다는 의미이다.

학생들의 번호는 1번부터 N번이다.

## 출력

첫째 줄부터 앞에서부터 줄을 세운 결과를 출력한다. 답이 여러 가지인 경우에는 아무거나 출력한다.

## 예제 입력 1 

```
3 2
1 3
2 3
```

## 예제 출력 1 

```
1 2 3
```

## 예제 입력 2 

```
4 2
4 2
3 1
```

## 예제 출력 2 

```
4 2 3 1
```

<br>

## 나의 풀이

> 이 문제는 위상정렬을 이용하여 풀이하는 문제였다.
>
> 위상정렬이란, 방향 그래프에서 특정 순서를 위배하지 않는 상태로 모든 정점을 정렬하는 것이다. 다시 말해, 정접들 간의 순서를 찾는 알고리즘이라고 할 수 있다.
>
> 위상정렬을 구현하는 방법의 키포인트는 진입차수(in-degree)이다. 진입 차수는 특정 정점으로 접근을 하는 간선의 개수라고 할 수 있다.
>
> ![IMG_D6B8E6CD92BD-1](https://user-images.githubusercontent.com/37801041/102040390-089f7980-3e10-11eb-9f9d-5edcf9c88534.jpeg)
>
> 예를 들어, 위와 같은 그래프에서는 1번 정점의 경우 진입하고 있는 간선이 없으므로 진입 차수는 0, 2번 정점의 경우 1번 정접에서 진입하는 간선이 1개 있으므로 진입 차수는 1, 4번 정점의 경우 2번과 3번 정접에서 진입하는 간선의 개수가 2개이므로 진입 차수는 2이다.  (참고로 특정 정점에서 나가는 간선의 개수는 진출차수(out-degree)라고 한다.)
>
> 이제 진입차수에 대하여 알았다면 위상정렬을 구현할 수 있다. 핵심 개념은 진입 차수가 `0`인 정점은 선행 조건이 없다라는 것이다. 따라서 알고리즘을 다음과 같이 정리해볼 수 있다.
>
> 1. 모든 정점을 탐색하며 진입차수가 0인 정점을 큐에 push한다.
> 2. 큐에서 하나씩 pop하며 해당 정점과 연결된 정점의 진입차수를 1만큼 감소시킨다.
> 3. 2번을 진행한 뒤 각 연결된 정점의 진입차수를 감소시킨 뒤의 값이 0이라면 큐에 push한다.
> 4. 큐가 모두 비워질때까지 2~3번을 반복한다.

<br>

## 코드

```python
# 2252번 줄 세우기
from collections import deque
import sys


n, m = map(int, sys.stdin.readline().split())
students = [[] for _ in range(n+1)]
in_degree = [0] * (n+1)

for _ in range(m):
    s1, s2 = map(int, sys.stdin.readline().split())
    students[s1].append(s2)
    in_degree[s2] += 1

q = deque()
for i in range(1, n+1):
    if in_degree[i] == 0:
        q.append(i)

while q:
    cur = q.popleft()
    print(cur, end=' ')

    for s in students[cur]:
        in_degree[s] -= 1
        if in_degree[s] == 0:
            q.append(s)

```

